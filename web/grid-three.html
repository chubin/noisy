<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Terrain generation grid</title>
        <style>
         body { margin: 0; overflow: hidden; font-family: sans-serif; }
         canvas { display: block; }

         /*****************************/
         /* Control panel on the left */
         /*****************************/

         #controls {
             position: absolute;
             top: 10px;
             left: 10px;
             background: rgba(0, 0, 0, 0.7);
             color: white;
             padding: 15px;
             border-radius: 5px;
             display: flex;
             flex-direction: column;
             gap: 10px;
             min-width: 100px; /* Prevent resizing based on grid size label */
         }
         #controls div {
             display: flex;
             flex-direction: column; /* Stack elements vertically. */
             gap: 5px; /* Spacing within a control group. */
         }
         #controls label {
             margin-bottom: 2px;
             font-weight: bold;
         }
         #controls button, #controls input {
             padding: 5px;
             cursor: pointer;
         }
         #controls .radio-group label {
             margin-right: 10px;
             font-weight: normal;
         }
         #controls .radio-group input[type="radio"] {
             margin-right: 5px;
         }

         /******************************/
         /* Terrain panel on the right */
         /******************************/

         /*********************/
         /* Collapsible panel */

         #terrain-panel {
             position: absolute;
             top: 10px;
             right: 10px;
             background: rgba(0, 0, 0, 0.7);
             color: white;
             padding: 10px;
             border-radius: 5px;
             display: flex;
             flex-direction: column;
             gap: 5px;
             width: 100px; /* Must be adjusted manually */
         }

         /*******************************/
         /* Terrain algorithm selection */

         #terrain-buttons {
             display: flex;
             flex-direction: column;
             gap: 5px;
             margin-bottom: 10px;
         }

         #terrain-buttons button {
             width: 100%; /* Make buttons fill container width */
             padding: 5px;
             background-color: slategray;
             color: white;
             border: none;
             border-radius: 3px;
             font-size: 13px;
             outline: none;
             background-color: slategray; /* Default button color */
             color: white;
             border: none;
             cursor: pointer;
             transition: background-color 0.2s ease;
         }

         #terrain-buttons button:hover {
             background-color: darkslategray;
         }

         #terrain-buttons button.active-terrain-algo {
             background-color: steelblue; /* Highlight active terrain algorithm */
             font-weight: bold;
         }

         /********************************/
         /* Terrain algorithm parameters */

         /* Parameters area */
         #terrain-params {
             border-top: none; /* Separator line hidden by default */
             padding-top: 10px;
         }

         /* Show separator when parameters exist */
         #terrain-params:has(.param-section.active:not(:empty)) {
             border-top: 1px solid #555;
         }

         /* Individual parameter sections */
         .param-section {
             display: none; /* Hide by default */
             flex-direction: column;
             gap: 8px;
         }

         .param-section.active {
             display: flex; /* Show active section */
         }

         .param-section label {
             font-size: 13px;
             font-weight: bold;
         }

         .param-section input[type="range"] {
             width: 100%;
         }

         /*****************/
         /* Button styles */
         /*****************/

         button {
             background-color: limegreen;
             border: none;
             color: white;
             padding: 8px 16px;
             display: inline-block;
             font-size: 14px;
             border-radius: 4px;
             cursor: pointer;
             transition: all 0.3s ease;
             box-shadow: 0 2px 4px rgba(0,0,0,0.2);
         }

         button:hover {
             background-color: forestgreen;
             transform: translateY(-1px);
             box-shadow: 0 4px 8px rgba(0,0,0,0.3);
         }

         button:active {
             transform: translateY(0);
             box-shadow: 0 2px 4px rgba(0,0,0,0.2);
         }

         #btn-new-seed {
             background-color: dodgerblue;
         }

         #btn-new-seed:hover {
             background-color: royalblue;
         }

         #btn-palette {
             background-color: darkorchid;
         }

         #btn-palette:hover {
             background-color: mediumorchid;
         }

         #terrain-content button {
             background-color: slategray;
         }

         #terrain-content button:hover {
             background-color: darkslategray;
         }
        </style>
    </head>
    <body>
        <!-- Control panel -->
        <div id="controls">
            <div>
                <label>Seed</label>
                <button id="btn-new-seed">New Seed</button>
            </div>
            <div>
                <label>Shape:</label>
                <div class="radio-group">
                    <label><input type="radio" id="shape-quadPrism" name="shape" value="quadPrism" checked> Squares</label>
                    <label><input type="radio" id="shape-hexPrism" name="shape" value="hexPrism"> Hexagons</label>
                    <label><input type="radio" id="shape-surface" name="shape" value="surface"> Surface</label>
                </div>
            </div>
            <div>
                <label>Palette:</label>
                <button id="btn-palette">Cycle Palette</button>
            </div>
            <div>
                <label>Grid Size: <span id="grid-size-value">33</span></label>
                <input type="range" id="grid-size-slider" min="1" max="7" value="5" step="1">
            </div>
        </div>

        <!-- Terrain panel (right side) -->
        <div id="terrain-panel">
            <div id="terrain-content">
                <!-- Buttons for generation algorithms -->
                <div id="terrain-buttons">
                    <button data-terrain-algo="rand">Random</button>
                    <button data-terrain-algo="noise">Noise</button>
                    <button data-terrain-algo="midpoint">Midpoint</button>
                    <button data-terrain-algo="midnoise">Midnoise</button>
                </div>
                <!-- Area for parameters -->
                <div id="terrain-params">
                    <!-- Noise Parameters -->
                    <div id="noise-params" class="param-section" data-terrain-algo="noise">
                        <label>Octaves: <span id="noise-octaves-value">4</span></label>
                        <input type="range" id="noise-octaves-slider" min="1" max="8" value="4" step="1">
                        <label>Persistence: <span id="noise-persistence-value">0.5</span></label>
                        <input type="range" id="noise-persistence-slider" min="0.1" max="1.0" value="0.5" step="0.05">
                        <label>Lacunarity: <span id="noise-lacunarity-value">2.0</span></label>
                        <input type="range" id="noise-lacunarity-slider" min="1.1" max="4.0" value="2.0" step="0.1">
                    </div>
                    <!-- <div id="midpoint-params" class="param-section" terrain-algorithm="midpoint">
                         </div>
                         <div id="midnoise-params" class="param-section" terrain-algorithm="midnoise">
                         </div> -->
                </div>
            </div>
        </div>

        <!-- Libraries -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

        <!-- Implementation -->
        <script src="grid-three.js" type="module"></script>
    </body>
</html>
